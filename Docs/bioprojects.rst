.. _Bioprojects-link:

NCBI BioProjects
===============

What is a BioProject?
---------------------

From the NCBI BioProject homepage (https://www.ncbi.nlm.nih.gov/bioproject/):

	"A BioProject is a collection of biological data related to a single initiative, originating from a single organization or from a consortium. A BioProject record provides users a single place to find links to the diverse data types generated for that project."

BioProjects grew out of the NCBI Genome Project database, which served solely to organize genome sequences in GenBank. However, it became apparent that this organizational structure could be used to group together entries for several more kinds of data, so BioProjects became a distinct entity in 2011.

BioProjects can have a hierarchical structure, meaning that project-level BioProjects can be organized together under an "umbrella" BioProject.

The Smithsonian Barcoding Network (SIBN) and Global Genome Initiative (GGI) are using BioProjects to organize sequence records on GenBank that were generated by each project that it funded. Each funded project will have its own BioProject that makes searching easier and tracking progress more convenient. The SIBN BioProject can be found at https://www.ncbi.nlm.nih.gov/bioproject/81359, and the GGI BioProject can be found at https://www.ncbi.nlm.nih.gov/bioproject/384793.

When a GenBank record is added to a BioProject, a link to other records in the same BioProject appears directly on the GenBank record.

.. figure:: /images/bioproject_in_gb_record.png
  :align: center
  :target: /en/latest/_images/bioproject_in_gb_record.png

  Here is an example of a BioProject link appearing in a GenBank record (https://www.ncbi.nlm.nih.gov/nuccore/KJ013267)

Creating a BioProject
---------------------

A BioProject will need to be created before new GenBank submissions or existing GenBank records can be organized under one.

To create a BioProject, navigate to the new NCBI Submission Portal: https://submit.ncbi.nlm.nih.gov/.

1. Click on "Log in". Generally, it is easiest to sign in with a Google or other third party account.

.. figure:: /images/ncbi_submission_portal_sign_in.png
  :align: center
  :target: /en/latest/_images/ncbi_submission_portal_sign_in.png

  ..

2. After signing in, return to the Submission Portal page. In the search box, type “bioproject” and click on the link “BioProject and BioSample”. This will lead to the bioproject submission tool. 

.. figure:: /images/ncbi_submission_portal_bioproject.png
  :align: center
  :target: /en/latest/_images/ncbi_submission_portal_bioproject.png

  ..

3. Feel free to click through the headings on the left of the What You Should Expect section to learn more about the requirements and the submission process. When ready to continue, click the Submit button.

.. figure:: /images/ncbi_submission_bioprojects_and_biosamples.png
  :align: center
  :target: /en/latest/_images/ncbi_submission_bioprojects_and_biosamples.png

  ..

4. Click the New Submission button.

.. figure:: /images/ncbi_submission_portal_new_submission.png
  :align: center
  :target: /en/latest/_images/ncbi_submission_portal_new_submission.png

  ..

5. Fill out the Submitter page.

.. figure:: /images/bioproject_submitter_page.png
  :align: center
  :target: /en/latest/_images/bioproject_submitter_page.png

  ..

6. Select "Targeted Locus (Loci)" for Project Data Type, and "Multispecies" for Sample scope.

.. figure:: /images/bioproject_project_type.png
  :align: center
  :target: /en/latest/_images/bioproject_project_type.png

  ..

7. Give a short description for "Multispecies description".

.. figure:: /images/bioproject_target.png
  :align: center
  :target: /en/latest/_images/bioproject_target.png

  ..

8. The submission portal will create an automated Project Title based on previous entries, but this can be overwriten with the title of choice for the project. Give a good description of the project in "Public description", because this will be front-and-center on the BioProject page. Finally, check the "Yes" box to indicate that this project is part of a larger initiative. 

* If this BioProject falls under the SI Barcode Network, then enter "SI Barcode Network" for Initiative description, and "PRJNA81359" for BioProject Accession. 
* If this BioProject falls under GGI, then enter "Global Genome Initiative" for Initiative description, and "PRJNA384793" for BioProject Accession. 

Leave the rest of entries on this page blank.

.. figure:: /images/bioproject_general_info.png
  :align: center
  :target: /en/latest/_images/bioproject_general_info.png

  ..

9. Enter any links to be displayed as part of the bioproject. Add the Consortium and/or Data provider, if needed.

.. figure:: /images/bioproject_links_and_consortium.png
  :align: center
  :target: /en/latest/_images/bioproject_links_and_consortium.png

  ..

10. To enter any grants, click the Add grants link to enter the relevant information. 

.. figure:: /images/bioproject_grant_info.png
  :align: center
  :target: /en/latest/_images/bioproject_grant_info.png

  ..

11. Skip the BioSample page.
12. Add any Publications the project has generated on the Publications page. Don't worry, publications can always be added back in later. 
13. Finally, the Overview tab will show all of the entries in one place. This will be the last chance to make any changes before submitting.

.. figure:: /images/bioproject_submission_review.png
  :align: center
  :target: /en/latest/_images/bioproject_submission_review.png

  ..

14. After a few hours or days, NCBI will send an email to note that the Bioproject has been successfully created. Most importantly, they will send the BioProject ID, which can then be added to existing GenBank records or include in new GenBank submissions.


How to update BioProject information
------------------------------------

If a BioProject has already been published and entries from the BioProject creation process need to be updated (i.e any typo corrections or perhaps an addition of a publication), email the changes to bioprojecthelp@ncbi.nlm.nih.gov.

Adding a BioProject to existing GenBank records
-----------------------------------------------

Adding a BioProject ID to sequence records that are already published to GenBank is a manual procedure done through email. There are two options:

Either - Email bioprojecthelp@ncbi.nlm.nih.gov with:
	
	* the Bioproject ID in the subject line
	* the range of GenBank accessions to be added to the Bioproject in the body of the email
	
Or - Treat the bioproject as a source modifier update to the GenBank accessions and email gb-admin@ncbi.nlm.nih.gov with:
	* the range of GenBank accessions to be updated in the subject line
	* attach a text file table that contains the fields "acc. num." and "Bioproject" (without the quotations) 


Adding a BioProject to new GenBank submissions
----------------------------------------------

Out of the several different methods of publishing sequences to GenBank (Genbank Submission Portal, BankIt, Sequin, tbl2asn, Geneious, and BOLD), only the Genbank Submission Portal and tbl2asn have methods for adding a BioProject ID to a batch submission.

If submitting C01 or rDNA through the Genbank Submission Portal, when creating the source modifier table for upload to the portal, simply add a column containing the bioproject ID with the column header "Bioproject" (without the quotations).

If submitting through tbl2asn, follow instructions in the section below for bioproject addition.

SIBN is working with the Geneious developers to have BioProjects added to the :ref:`gb_submission_details` section of the Geneious Prime GenBank Upload Plugin. Currently, if submitting barcodes through the Geneious Prime Genbank Upload Plugin, submit the sequences first and treat the sequences as "existing Genbank records" (see above).


tbl2asn
~~~~~~~

In the tbl2asn instruction manual at https://www.ncbi.nlm.nih.gov/genbank/tbl2asn2/, the 3 files required to create a submission package are a "template file", a FASTA file containing nucleotide sequences, and a feature table with annotations. The template file is where the BioProject ID is included for a submission.

To create a GenBank submission template file, go to https://submit.ncbi.nlm.nih.gov/genbank/template/submission/, and fill out the form. The last section of the form is for "BioProject/BioSample Information", and this is where to add the BioProject ID.


.. figure:: /images/tbl2asn_template_bioproject.png
  :align: center
  :target: /en/latest/_images/tbl2asn_template_bioproject.png

  ..

Press the "Create Template" button to download a ".sbt" file, and bundle that with the other components for the tbl2asn command line utility.
